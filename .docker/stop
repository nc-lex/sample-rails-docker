#!/usr/bin/env bash

ARG_HELP=
ARG_REMOVE=
ARG_CONTAINER=

while [[ $# > 0 ]]
do
  key="$1"
  case $key in
    -h|--help)
      ARG_HELP=YES
    ;;
    -r|--remove)
      ARG_REMOVE=YES
    ;;
    *)
      ARG_CONTAINER="$ARG_CONTAINER $key"
    ;;
  esac
  shift
done

if [[ -n "$ARG_HELP" ]]; then
  echo "Stop the Docker containers"
  echo "Usage:  $0 [CONTAINER...]"
  echo "  -r, --remove         Remove the container(s) after stopped"
  exit 0
fi

docker-compose stop $ARG_CONTAINER

if [[ -n "$ARG_REMOVE" ]]; then
  docker-compose rm -a -f $ARG_CONTAINER
fi
